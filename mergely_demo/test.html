<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mergely demo</title>
    <link href="http://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="mergely-3.4.2/lib/codemirror.css" />
    <link type="text/css" rel="stylesheet" href="mergely-3.4.2/lib/mergely.css" />
</head>
<body>
    <div class="container">
        <!-- Nav tabs -->
        <ul class="nav nav-tabs">
          <li class="active"><a href="#home" data-toggle="tab">Home</a></li>
          <li><a href="#profile" data-toggle="tab">Profile</a></li>
          <li><a href="#messages" data-toggle="tab">Messages</a></li>
          <li><a href="#settings" data-toggle="tab">Settings</a></li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
          <div class="tab-pane fade active in" id="home"></div>
          <div class="tab-pane fade" id="profile"></div>
          <div class="tab-pane fade" id="messages"></div>
          <div class="tab-pane fade" id="settings"></div>
        </div>
    </div>
    <script type="text/javascript" src="jquery-2.2.3.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="mergely-3.4.2/lib/codemirror.js"></script>
    <script type="text/javascript" src="mergely-3.4.2/lib/mergely.js"></script>
    <script>
        function mergelyInit(theID, theData) {
            console.log("begin in func:mergelyInit ...");
            var g = $("#"+theID);
            g.mergely({
                cmsettings: {
                    lineNumbers: true
                },
                autoresize: 'false',
                width: 'auto',
                height: 600,
                lhs: function (setValue) {
                    setValue(theData)
                },
                rhs: function (setValue) {
                    setValue(theData)
                }
            });
            // 设置左侧为只读模式
            g.mergely("cm", "lhs").setOption("readOnly", "nocursor");
        }
    </script>
    <script>
        $("body").delegate(".nav, .nav-tabs a", "click", function () {
            var theID = $(this).attr("href");
            $(theID).css("display", "block").siblings().css("display", "none");
        })
    </script>
    <script>
        var data1 = 'home\nhome\nthe quick red fox\njumped over the hairy dog';
        var data2 = 'profile\nprofile\nthe quick red fox\njumped over the hairy dog';
        var data3 = 'message\nmessage\nthe quick red fox\njumped over the hairy dog';
        var data4 = 'settings\nsettings\nthe quick red fox\njumped over the hairy dog';
        $(document).ready(function () {
            console.log($("#home"));
            console.log($("#profile"));
            console.log($("#messages"));
            console.log($("#settings"));
            mergelyInit("home", data1);
            mergelyInit("profile", data2);
            mergelyInit("messages", data3);
            mergelyInit("settings", data4);
        });
    </script>
</body>
</html>